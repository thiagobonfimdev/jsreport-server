{"version":3,"file":"cell-xform.js","names":["utils","require","BaseXform","Range","Enums","RichTextXform","getValueType","v","undefined","ValueType","Null","String","Number","Boolean","Date","text","hyperlink","Hyperlink","formula","Formula","error","Error","getEffectiveCellType","cell","type","result","CellXform","constructor","richTextXForm","tag","prepare","model","options","cellStylesCache","modelStyle","style","modelStyleKey","JSON","stringify","has","styleId","get","styles","addStyleModel","shouldCache","Object","keys","length","set","comment","comments","push","_objectSpread","ref","address","RichText","sharedStrings","ssId","add","value","date1904","hyperlinks","target","tooltip","Merge","merges","shareType","si","siFormulae","formulae","sharedFormula","master","concat","range","expandToAddress","renderFormula","xmlStream","attrs","t","leafNode","addAttribute","dateToExcel","render","openNode","richText","forEach","closeNode","parseOpen","node","parser","name","attributes","r","s","parseInt","currentNode","parseText","parseClose","xmlDecode","parseFloat","reconcile","getStyleModel","getString","isDateFmt","numFmt","excelToDate","hyperlinkMap","commentsMap","module","exports"],"sources":["../../../../../lib/xlsx/xform/sheet/cell-xform.js"],"sourcesContent":["const utils = require('../../../utils/utils');\nconst BaseXform = require('../base-xform');\nconst Range = require('../../../doc/range');\nconst Enums = require('../../../doc/enums');\n\nconst RichTextXform = require('../strings/rich-text-xform');\n\nfunction getValueType(v) {\n  if (v === null || v === undefined) {\n    return Enums.ValueType.Null;\n  }\n  if (v instanceof String || typeof v === 'string') {\n    return Enums.ValueType.String;\n  }\n  if (typeof v === 'number') {\n    return Enums.ValueType.Number;\n  }\n  if (typeof v === 'boolean') {\n    return Enums.ValueType.Boolean;\n  }\n  if (v instanceof Date) {\n    return Enums.ValueType.Date;\n  }\n  if (v.text && v.hyperlink) {\n    return Enums.ValueType.Hyperlink;\n  }\n  if (v.formula) {\n    return Enums.ValueType.Formula;\n  }\n  if (v.error) {\n    return Enums.ValueType.Error;\n  }\n  throw new Error('I could not understand type of value');\n}\n\nfunction getEffectiveCellType(cell) {\n  switch (cell.type) {\n    case Enums.ValueType.Formula:\n      return getValueType(cell.result);\n    default:\n      return cell.type;\n  }\n}\n\nclass CellXform extends BaseXform {\n  constructor() {\n    super();\n\n    this.richTextXForm = new RichTextXform();\n  }\n\n  get tag() {\n    return 'c';\n  }\n\n  prepare(model, options) {\n    const {cellStylesCache} = options;\n    const modelStyle = model.style || {};\n    const modelStyleKey = JSON.stringify(modelStyle);\n\n    if (cellStylesCache && cellStylesCache.has(modelStyleKey)) {\n      model.styleId = cellStylesCache.get(modelStyleKey);\n    }\n\n    if (!model.styleId) {\n      const styleId = options.styles.addStyleModel(modelStyle, getEffectiveCellType(model));\n\n      if (styleId) {\n        // only cache if there is some styles applied\n        const shouldCache = Object.keys(modelStyle).length > 0;\n        model.styleId = styleId;\n\n        if (cellStylesCache && shouldCache) {\n          cellStylesCache.set(modelStyleKey, styleId);\n        }\n      }\n    }\n\n    if (model.comment) {\n      options.comments.push({...model.comment, ref: model.address});\n    }\n\n    switch (model.type) {\n      case Enums.ValueType.String:\n      case Enums.ValueType.RichText:\n        if (options.sharedStrings) {\n          model.ssId = options.sharedStrings.add(model.value);\n        }\n        break;\n\n      case Enums.ValueType.Date:\n        if (options.date1904) {\n          model.date1904 = true;\n        }\n        break;\n\n      case Enums.ValueType.Hyperlink:\n        if (options.sharedStrings && model.text !== undefined && model.text !== null) {\n          model.ssId = options.sharedStrings.add(model.text);\n        }\n        options.hyperlinks.push({\n          address: model.address,\n          target: model.hyperlink,\n          tooltip: model.tooltip,\n        });\n        break;\n\n      case Enums.ValueType.Merge:\n        options.merges.add(model);\n        break;\n\n      case Enums.ValueType.Formula:\n        if (options.date1904) {\n          // in case valueType is date\n          model.date1904 = true;\n        }\n\n        if (model.shareType === 'shared') {\n          model.si = options.siFormulae++;\n        }\n\n        if (model.formula) {\n          options.formulae[model.address] = model;\n        } else if (model.sharedFormula) {\n          const master = options.formulae[model.sharedFormula];\n          if (!master) {\n            throw new Error(\n              `Shared Formula master must exist above and or left of clone for cell ${model.address}`\n            );\n          }\n          if (master.si === undefined) {\n            master.shareType = 'shared';\n            master.si = options.siFormulae++;\n            master.range = new Range(master.address, model.address);\n          } else if (master.range) {\n            master.range.expandToAddress(model.address);\n          }\n          model.si = master.si;\n        }\n        break;\n\n      default:\n        break;\n    }\n  }\n\n  renderFormula(xmlStream, model) {\n    let attrs = null;\n    switch (model.shareType) {\n      case 'shared':\n        attrs = {\n          t: 'shared',\n          ref: model.ref || model.range.range,\n          si: model.si,\n        };\n        break;\n\n      case 'array':\n        attrs = {\n          t: 'array',\n          ref: model.ref,\n        };\n        break;\n\n      default:\n        if (model.si !== undefined) {\n          attrs = {\n            t: 'shared',\n            si: model.si,\n          };\n        }\n        break;\n    }\n\n    switch (getValueType(model.result)) {\n      case Enums.ValueType.Null: // ?\n        xmlStream.leafNode('f', attrs, model.formula);\n        break;\n\n      case Enums.ValueType.String:\n        // oddly, formula results don't ever use shared strings\n        xmlStream.addAttribute('t', 'str');\n        xmlStream.leafNode('f', attrs, model.formula);\n        xmlStream.leafNode('v', null, model.result);\n        break;\n\n      case Enums.ValueType.Number:\n        xmlStream.leafNode('f', attrs, model.formula);\n        xmlStream.leafNode('v', null, model.result);\n        break;\n\n      case Enums.ValueType.Boolean:\n        xmlStream.addAttribute('t', 'b');\n        xmlStream.leafNode('f', attrs, model.formula);\n        xmlStream.leafNode('v', null, model.result ? 1 : 0);\n        break;\n\n      case Enums.ValueType.Error:\n        xmlStream.addAttribute('t', 'e');\n        xmlStream.leafNode('f', attrs, model.formula);\n        xmlStream.leafNode('v', null, model.result.error);\n        break;\n\n      case Enums.ValueType.Date:\n        xmlStream.leafNode('f', attrs, model.formula);\n        xmlStream.leafNode('v', null, utils.dateToExcel(model.result, model.date1904));\n        break;\n\n      // case Enums.ValueType.Hyperlink: // ??\n      // case Enums.ValueType.Formula:\n      default:\n        throw new Error('I could not understand type of value');\n    }\n  }\n\n  render(xmlStream, model) {\n    if (model.type === Enums.ValueType.Null && !model.styleId) {\n      // if null and no style, exit\n      return;\n    }\n\n    xmlStream.openNode('c');\n    xmlStream.addAttribute('r', model.address);\n\n    if (model.styleId) {\n      xmlStream.addAttribute('s', model.styleId);\n    }\n\n    switch (model.type) {\n      case Enums.ValueType.Null:\n        break;\n\n      case Enums.ValueType.Number:\n        xmlStream.leafNode('v', null, model.value);\n        break;\n\n      case Enums.ValueType.Boolean:\n        xmlStream.addAttribute('t', 'b');\n        xmlStream.leafNode('v', null, model.value ? '1' : '0');\n        break;\n\n      case Enums.ValueType.Error:\n        xmlStream.addAttribute('t', 'e');\n        xmlStream.leafNode('v', null, model.value.error);\n        break;\n\n      case Enums.ValueType.String:\n      case Enums.ValueType.RichText:\n        if (model.ssId !== undefined) {\n          xmlStream.addAttribute('t', 's');\n          xmlStream.leafNode('v', null, model.ssId);\n        } else if (model.value && model.value.richText) {\n          xmlStream.addAttribute('t', 'inlineStr');\n          xmlStream.openNode('is');\n          model.value.richText.forEach(text => {\n            this.richTextXForm.render(xmlStream, text);\n          });\n          xmlStream.closeNode('is');\n        } else {\n          xmlStream.addAttribute('t', 'str');\n          xmlStream.leafNode('v', null, model.value);\n        }\n        break;\n\n      case Enums.ValueType.Date:\n        xmlStream.leafNode('v', null, utils.dateToExcel(model.value, model.date1904));\n        break;\n\n      case Enums.ValueType.Hyperlink:\n        if (model.ssId !== undefined) {\n          xmlStream.addAttribute('t', 's');\n          xmlStream.leafNode('v', null, model.ssId);\n        } else {\n          xmlStream.addAttribute('t', 'str');\n          xmlStream.leafNode('v', null, model.text);\n        }\n        break;\n\n      case Enums.ValueType.Formula:\n        this.renderFormula(xmlStream, model);\n        break;\n\n      case Enums.ValueType.Merge:\n        // nothing to add\n        break;\n\n      default:\n        break;\n    }\n\n    xmlStream.closeNode(); // </c>\n  }\n\n  parseOpen(node) {\n    if (this.parser) {\n      this.parser.parseOpen(node);\n      return true;\n    }\n    switch (node.name) {\n      case 'c':\n        // const address = colCache.decodeAddress(node.attributes.r);\n        this.model = {\n          address: node.attributes.r,\n        };\n        this.t = node.attributes.t;\n        if (node.attributes.s) {\n          this.model.styleId = parseInt(node.attributes.s, 10);\n        }\n        return true;\n\n      case 'f':\n        this.currentNode = 'f';\n        this.model.si = node.attributes.si;\n        this.model.shareType = node.attributes.t;\n        this.model.ref = node.attributes.ref;\n        return true;\n\n      case 'v':\n        this.currentNode = 'v';\n        return true;\n\n      case 't':\n        this.currentNode = 't';\n        return true;\n\n      case 'r':\n        this.parser = this.richTextXForm;\n        this.parser.parseOpen(node);\n        return true;\n\n      default:\n        return false;\n    }\n  }\n\n  parseText(text) {\n    if (this.parser) {\n      this.parser.parseText(text);\n      return;\n    }\n    switch (this.currentNode) {\n      case 'f':\n        this.model.formula = this.model.formula ? this.model.formula + text : text;\n        break;\n      case 'v':\n      case 't':\n        if (this.model.value && this.model.value.richText) {\n          this.model.value.richText.text = this.model.value.richText.text\n            ? this.model.value.richText.text + text\n            : text;\n        } else {\n          this.model.value = this.model.value ? this.model.value + text : text;\n        }\n        break;\n      default:\n        break;\n    }\n  }\n\n  parseClose(name) {\n    switch (name) {\n      case 'c': {\n        const {model} = this;\n\n        // first guess on cell type\n        if (model.formula || model.shareType) {\n          model.type = Enums.ValueType.Formula;\n          if (model.value) {\n            if (this.t === 'str') {\n              model.result = utils.xmlDecode(model.value);\n            } else if (this.t === 'b') {\n              model.result = parseInt(model.value, 10) !== 0;\n            } else if (this.t === 'e') {\n              model.result = {error: model.value};\n            } else {\n              model.result = parseFloat(model.value);\n            }\n            model.value = undefined;\n          }\n        } else if (model.value !== undefined) {\n          switch (this.t) {\n            case 's':\n              model.type = Enums.ValueType.String;\n              model.value = parseInt(model.value, 10);\n              break;\n            case 'str':\n              model.type = Enums.ValueType.String;\n              model.value = utils.xmlDecode(model.value);\n              break;\n            case 'inlineStr':\n              model.type = Enums.ValueType.String;\n              break;\n            case 'b':\n              model.type = Enums.ValueType.Boolean;\n              model.value = parseInt(model.value, 10) !== 0;\n              break;\n            case 'e':\n              model.type = Enums.ValueType.Error;\n              model.value = {error: model.value};\n              break;\n            default:\n              model.type = Enums.ValueType.Number;\n              model.value = parseFloat(model.value);\n              break;\n          }\n        } else if (model.styleId) {\n          model.type = Enums.ValueType.Null;\n        } else {\n          model.type = Enums.ValueType.Merge;\n        }\n        return false;\n      }\n\n      case 'f':\n      case 'v':\n      case 'is':\n        this.currentNode = undefined;\n        return true;\n\n      case 't':\n        if (this.parser) {\n          this.parser.parseClose(name);\n          return true;\n        }\n        this.currentNode = undefined;\n        return true;\n\n      case 'r':\n        this.model.value = this.model.value || {};\n        this.model.value.richText = this.model.value.richText || [];\n        this.model.value.richText.push(this.parser.model);\n        this.parser = undefined;\n        this.currentNode = undefined;\n        return true;\n\n      default:\n        if (this.parser) {\n          this.parser.parseClose(name);\n          return true;\n        }\n        return false;\n    }\n  }\n\n  reconcile(model, options) {\n    const style = model.styleId && options.styles && options.styles.getStyleModel(model.styleId);\n    if (style) {\n      model.style = style;\n    }\n    if (model.styleId !== undefined) {\n      model.styleId = undefined;\n    }\n\n    switch (model.type) {\n      case Enums.ValueType.String:\n        if (typeof model.value === 'number') {\n          if (options.sharedStrings) {\n            model.value = options.sharedStrings.getString(model.value);\n          }\n        }\n        if (model.value.richText) {\n          model.type = Enums.ValueType.RichText;\n        }\n        break;\n\n      case Enums.ValueType.Number:\n        if (style && utils.isDateFmt(style.numFmt)) {\n          model.type = Enums.ValueType.Date;\n          model.value = utils.excelToDate(model.value, options.date1904);\n        }\n        break;\n\n      case Enums.ValueType.Formula:\n        if (model.result !== undefined && style && utils.isDateFmt(style.numFmt)) {\n          model.result = utils.excelToDate(model.result, options.date1904);\n        }\n        if (model.shareType === 'shared') {\n          if (model.ref) {\n            // master\n            options.formulae[model.si] = model.address;\n          } else {\n            // slave\n            model.sharedFormula = options.formulae[model.si];\n            delete model.shareType;\n          }\n          delete model.si;\n        }\n        break;\n\n      default:\n        break;\n    }\n\n    // look for hyperlink\n    const hyperlink = options.hyperlinkMap[model.address];\n    if (hyperlink) {\n      if (model.type === Enums.ValueType.Formula) {\n        model.text = model.result;\n        model.result = undefined;\n      } else {\n        model.text = model.value;\n        model.value = undefined;\n      }\n      model.type = Enums.ValueType.Hyperlink;\n      model.hyperlink = hyperlink;\n    }\n\n    const comment = options.commentsMap && options.commentsMap[model.address];\n    if (comment) {\n      model.comment = comment;\n    }\n  }\n}\n\nmodule.exports = CellXform;\n"],"mappings":"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","ignoreList":[]}