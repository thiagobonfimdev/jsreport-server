{"type":"operationStart","subtype":"profile","data":{"_id":"sSP2vpPKHIBmRpzz","timestamp":"2025-07-22T14:12:31.175Z","state":"queued","mode":"standard","creationDate":"2025-07-22T14:12:31.177Z","modificationDate":"2025-07-22T14:12:31.177Z","shortid":"HP3RLvB","$entitySet":"profiles"},"doDiffs":false,"timestamp":1753193551176,"id":"2jd05jndy7ehwr2","previousOperationId":null,"operationId":"5ko5zi6qna18wig"}
{"type":"log","level":"info","message":"Render request 12 queued for execution and waiting for available worker","previousOperationId":"5ko5zi6qna18wig","timestamp":1753193551176,"id":"6sgk7aqz6063d2e"}
{"type":"operationStart","subtype":"render","name":"report-1","previousOperationId":"5ko5zi6qna18wig","timestamp":1753193551180,"id":"2zyq25a0ot6dmhu","previousEventId":"2jd05jndy7ehwr2","operationId":"pajribx2hc7istf"}
{"type":"log","timestamp":1753193551180,"level":"info","message":"Starting rendering request 12","meta":{"rootId":"4qb55h0pnrq6imy","id":"4qb55h0pnrq6imy"},"id":"ncfsk6sbbi3lb37","previousOperationId":"pajribx2hc7istf"}
{"type":"log","timestamp":1753193551181,"level":"info","message":"Rendering template { name: report-1, recipe: chrome-pdf, engine: jsrender, preview: true }","meta":{"rootId":"4qb55h0pnrq6imy","id":"4qb55h0pnrq6imy"},"id":"9luns01kpf23z84","previousOperationId":"pajribx2hc7istf"}
{"type":"log","timestamp":1753193551181,"level":"debug","message":"Data item not defined for this template.","meta":{"rootId":"4qb55h0pnrq6imy","id":"4qb55h0pnrq6imy"},"id":"g3be1n6rlo6hmam","previousOperationId":"pajribx2hc7istf"}
{"type":"log","timestamp":1753193551182,"level":"debug","message":"Base url not specified, skipping its injection.","meta":{"rootId":"4qb55h0pnrq6imy","id":"4qb55h0pnrq6imy"},"id":"slgudb6gx7cg9rz","previousOperationId":"pajribx2hc7istf"}
{"type":"operationStart","subtype":"engine","name":"jsrender","timestamp":1753193551182,"id":"p4vandoxg9c0cz5","previousEventId":"2zyq25a0ot6dmhu","operationId":"hiao79ujodinj7i","previousOperationId":"pajribx2hc7istf"}
{"type":"log","timestamp":1753193551182,"level":"debug","message":"Rendering engine jsrender","meta":{"rootId":"4qb55h0pnrq6imy","id":"4qb55h0pnrq6imy"},"id":"142u0oddzrxdrpi","previousOperationId":"hiao79ujodinj7i"}
{"type":"log","timestamp":1753193551189,"level":"warn","message":"Error when processing render request 12\n(because) error when evaluating engine jsrender for template /report/report-1\n(because) cannot read properties of undefined (reading 'logo')\n\n(sandbox.js line 13:18)\nTypeError: Cannot read properties of undefined (reading 'logo')\n  at Function.anonymous [as fn] (eval at <anonymous> (eval at makeEvaluate (/home/thiago/Documentos/Playback/jsreportapp/node_modules/@jsreport/ses/index.js:7936:27)), <anonymous>:5:18)\n  at Function.renderContent [as render] (/home/thiago/Documentos/Playback/jsreportapp/node_modules/jsrender/jsrender-node.js:1671:20)\n  at Object.execute (/home/thiago/Documentos/Playback/jsreportapp/node_modules/@jsreport/jsreport-jsrender/lib/jsrenderEngine.js:26:29)\n  at executionFn (/home/thiago/Documentos/Playback/jsreportapp/node_modules/@jsreport/jsreport-core/lib/worker/render/executeEngine.js:273:42)\n  at eval (sandbox.js:13:18)\n  at async run (/home/thiago/Documentos/Playback/jsreportapp/node_modules/@jsreport/jsreport-core/lib/worker/sandbox/createSandbox.js:132:18)\n  at async WorkerReporter.runInSandbox [as _runInSandbox] (/home/thiago/Documentos/Playback/jsreportapp/node_modules/@jsreport/jsreport-core/lib/worker/sandbox/runInSandbox.js:214:14)\n  at async executeEngine (/home/thiago/Documentos/Playback/jsreportapp/node_modules/@jsreport/jsreport-core/lib/worker/render/executeEngine.js:354:16)\n  at async engine.engine (/home/thiago/Documentos/Playback/jsreportapp/node_modules/@jsreport/jsreport-core/lib/worker/render/executeEngine.js:162:14)\n  at async invokeRender (/home/thiago/Documentos/Playback/jsreportapp/node_modules/@jsreport/jsreport-core/lib/worker/render/render.js:61:23)\n  at async WorkerReporter._render (/home/thiago/Documentos/Playback/jsreportapp/node_modules/@jsreport/jsreport-core/lib/worker/render/render.js:148:7)\n  at async /home/thiago/Documentos/Playback/jsreportapp/node_modules/@jsreport/jsreport-core/lib/worker/reporter.js:233:24\n  at async processAndResponse (/home/thiago/Documentos/Playback/jsreportapp/node_modules/@jsreport/advanced-workers/lib/workerHandler.js:42:17)\nwrapped by:\nError: Error when evaluating engine jsrender for template /report/report-1\n(because) cannot read properties of undefined (reading 'logo')\n  at module.exports (/home/thiago/Documentos/Playback/jsreportapp/node_modules/@jsreport/jsreport-core/lib/shared/createError.js:10:13)\n  at WorkerReporter.createError (/home/thiago/Documentos/Playback/jsreportapp/node_modules/@jsreport/jsreport-core/lib/shared/reporter.js:53:12)\n  at executeEngine (/home/thiago/Documentos/Playback/jsreportapp/node_modules/@jsreport/jsreport-core/lib/worker/render/executeEngine.js:377:35)\n  at async engine.engine (/home/thiago/Documentos/Playback/jsreportapp/node_modules/@jsreport/jsreport-core/lib/worker/render/executeEngine.js:162:14)\n  at async invokeRender (/home/thiago/Documentos/Playback/jsreportapp/node_modules/@jsreport/jsreport-core/lib/worker/render/render.js:61:23)\n  at async WorkerReporter._render (/home/thiago/Documentos/Playback/jsreportapp/node_modules/@jsreport/jsreport-core/lib/worker/render/render.js:148:7)\n  at async /home/thiago/Documentos/Playback/jsreportapp/node_modules/@jsreport/jsreport-core/lib/worker/reporter.js:233:24\n  at async processAndResponse (/home/thiago/Documentos/Playback/jsreportapp/node_modules/@jsreport/advanced-workers/lib/workerHandler.js:42:17)","meta":{"rootId":"4qb55h0pnrq6imy","id":"4qb55h0pnrq6imy"},"id":"w4a4ueql4hjlk82","previousOperationId":"hiao79ujodinj7i"}
{"type":"log","timestamp":1753193551189,"level":"warn","message":"Rendering request 12 finished with error in 14 ms","meta":{"rootId":"4qb55h0pnrq6imy","id":"4qb55h0pnrq6imy"},"id":"ukknxl1udurx7zz","previousOperationId":"hiao79ujodinj7i"}
{"type":"error","timestamp":1753193551190,"entity":{"shortid":"gpSg2G72b","name":"report-1","content":"<!DOCTYPE html>\n<html>\n<head>\n  <meta charset=\"utf-8\">\n  <title>Royalty Self-Billing Invoice</title>\n  <style>\n    body {\n      font-family: Arial, sans-serif;\n      margin: 0;\n      padding: 20px;\n      color: #333;\n    }\n    .invoice-box {\n      max-width: 800px;\n      margin: auto;\n      padding: 30px;\n      border: 1px solid #eee;\n      box-shadow: 0 0 10px rgba(0, 0, 0, 0.15);\n      font-size: 16px;\n      line-height: 24px;\n    }\n    .invoice-box table {\n      width: 100%;\n      line-height: inherit;\n      text-align: left;\n      border-collapse: collapse;\n    }\n    .invoice-box table td {\n      padding: 5px;\n      vertical-align: top;\n    }\n    .invoice-box table tr td:nth-child(2) {\n      text-align: right;\n    }\n    .invoice-box table tr.top table td {\n      padding-bottom: 20px;\n    }\n    .invoice-box table tr.top table td.title {\n      font-size: 45px;\n      line-height: 45px;\n      color: #333;\n    }\n    .invoice-box table tr.information table td {\n      padding-bottom: 40px;\n    }\n    .invoice-box table tr.heading td {\n      background: #eee;\n      border-bottom: 1px solid #ddd;\n      font-weight: bold;\n    }\n    .invoice-box table tr.details td {\n      padding-bottom: 20px;\n    }\n    .invoice-box table tr.item td {\n      border-bottom: 1px solid #eee;\n    }\n    .invoice-box table tr.total td:nth-child(2) {\n      border-top: 2px solid #eee;\n      font-weight: bold;\n    }\n  </style>\n</head>\n<body>\n  <div class=\"invoice-box\">\n    <table cellpadding=\"0\" cellspacing=\"0\">\n      <tr class=\"top\">\n        <td colspan=\"2\">\n          <table>\n            <tr>\n              <td class=\"title\">\n                <img src=\"{{:issuer.logo}}\" style=\"width:100%; max-width:300px;\">\n              </td>\n              <td>\n                Invoice #: {{:invoiceNumber}}\n                <br> Created: {{:invoiceDate}}\n                <br> Due: {{:dueDate}}\n              </td>\n            </tr>\n          </table>\n        </td>\n      </tr>\n      \n      <tr class=\"information\">\n        <td colspan=\"2\">\n          <table>\n            <tr>\n              <td>\n                {{:issuer.name}}<br>\n                {{:issuer.address}}<br>\n                {{:issuer.email}}\n              </td>\n              <td>\n                {{:recipient.name}}<br>\n                {{:recipient.address}}<br>\n                {{:recipient.email}}\n              </td>\n            </tr>\n          </table>\n        </td>\n      </tr>\n      \n      <tr class=\"heading\">\n        <td>Item</td>\n        <td>Price</td>\n      </tr>\n      \n      {{for collaborators}}\n      <tr class=\"item\">\n        <td>{{:name}}</td>\n        <td>{{:amount}} {{:currency}}</td>\n      </tr>\n      {{/for}}\n      \n      <tr class=\"total\">\n        <td></td>\n        <td>\n          Total: {{:netPayable}} {{:currency}}\n        </td>\n      </tr>\n    </table>\n  </div>\n</body>\n</html>"},"property":"helpers","statusCode":400,"weak":true,"logged":true,"previousOperationId":"hiao79ujodinj7i","id":"ha8iji8qdosw2oo","stack":"TypeError: Cannot read properties of undefined (reading 'logo')\n  at Function.anonymous [as fn] (eval at <anonymous> (eval at makeEvaluate (/home/thiago/Documentos/Playback/jsreportapp/node_modules/@jsreport/ses/index.js:7936:27)), <anonymous>:5:18)\n  at Function.renderContent [as render] (/home/thiago/Documentos/Playback/jsreportapp/node_modules/jsrender/jsrender-node.js:1671:20)\n  at Object.execute (/home/thiago/Documentos/Playback/jsreportapp/node_modules/@jsreport/jsreport-jsrender/lib/jsrenderEngine.js:26:29)\n  at executionFn (/home/thiago/Documentos/Playback/jsreportapp/node_modules/@jsreport/jsreport-core/lib/worker/render/executeEngine.js:273:42)\n  at eval (sandbox.js:13:18)\n  at async run (/home/thiago/Documentos/Playback/jsreportapp/node_modules/@jsreport/jsreport-core/lib/worker/sandbox/createSandbox.js:132:18)\n  at async WorkerReporter.runInSandbox [as _runInSandbox] (/home/thiago/Documentos/Playback/jsreportapp/node_modules/@jsreport/jsreport-core/lib/worker/sandbox/runInSandbox.js:214:14)\n  at async executeEngine (/home/thiago/Documentos/Playback/jsreportapp/node_modules/@jsreport/jsreport-core/lib/worker/render/executeEngine.js:354:16)\n  at async engine.engine (/home/thiago/Documentos/Playback/jsreportapp/node_modules/@jsreport/jsreport-core/lib/worker/render/executeEngine.js:162:14)\n  at async invokeRender (/home/thiago/Documentos/Playback/jsreportapp/node_modules/@jsreport/jsreport-core/lib/worker/render/render.js:61:23)\n  at async WorkerReporter._render (/home/thiago/Documentos/Playback/jsreportapp/node_modules/@jsreport/jsreport-core/lib/worker/render/render.js:148:7)\n  at async /home/thiago/Documentos/Playback/jsreportapp/node_modules/@jsreport/jsreport-core/lib/worker/reporter.js:233:24\n  at async processAndResponse (/home/thiago/Documentos/Playback/jsreportapp/node_modules/@jsreport/advanced-workers/lib/workerHandler.js:42:17)\nwrapped by:\nError: Error when evaluating engine jsrender for template /report/report-1\n(because) cannot read properties of undefined (reading 'logo')\n  at module.exports (/home/thiago/Documentos/Playback/jsreportapp/node_modules/@jsreport/jsreport-core/lib/shared/createError.js:10:13)\n  at WorkerReporter.createError (/home/thiago/Documentos/Playback/jsreportapp/node_modules/@jsreport/jsreport-core/lib/shared/reporter.js:53:12)\n  at executeEngine (/home/thiago/Documentos/Playback/jsreportapp/node_modules/@jsreport/jsreport-core/lib/worker/render/executeEngine.js:377:35)\n  at async engine.engine (/home/thiago/Documentos/Playback/jsreportapp/node_modules/@jsreport/jsreport-core/lib/worker/render/executeEngine.js:162:14)\n  at async invokeRender (/home/thiago/Documentos/Playback/jsreportapp/node_modules/@jsreport/jsreport-core/lib/worker/render/render.js:61:23)\n  at async WorkerReporter._render (/home/thiago/Documentos/Playback/jsreportapp/node_modules/@jsreport/jsreport-core/lib/worker/render/render.js:148:7)\n  at async /home/thiago/Documentos/Playback/jsreportapp/node_modules/@jsreport/jsreport-core/lib/worker/reporter.js:233:24\n  at async processAndResponse (/home/thiago/Documentos/Playback/jsreportapp/node_modules/@jsreport/advanced-workers/lib/workerHandler.js:42:17)","message":"Error when evaluating engine jsrender for template /report/report-1\n(because) cannot read properties of undefined (reading 'logo')\n\n(sandbox.js line 13:18)"}
